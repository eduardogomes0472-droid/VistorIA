<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>VistorIA - Vistorias Imobiliárias Inteligentes</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

  <link rel="stylesheet" href="css/style.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  
  <style>
    /* Estilos Adicionais */
    :root {
      --primary-dark: #1a1a1a;
      --accent-warning: #ffc107;
    }

    .login-overlay, .payment-overlay, .checkout-overlay {
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0,0,0,0.85);
      backdrop-filter: blur(8px);
      z-index: 10000;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
      transition: all 0.3s ease;
    }

    .login-card, .payment-card, .checkout-card {
      background: white;
      width: 100%;
      max-width: 500px;
      padding: 2.5rem;
      border-radius: 24px;
      position: relative;
      animation: slideUp 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
    }

    @keyframes slideUp {
      from { opacity: 0; transform: translateY(40px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .btn-close-modal {
      background: none; border: none; font-size: 2rem;
      color: #ccc; position: absolute; top: 15px; right: 20px;
      line-height: 1; transition: 0.2s; cursor: pointer;
    }
    .btn-close-modal:hover { color: #333; transform: rotate(90deg); }

    .icon-wrapper {
      width: 70px; height: 70px; background: #fff9e6;
      border-radius: 50%; display: flex; align-items: center;
      justify-content: center; margin: 0 auto;
    }

    .login-divider {
      text-align: center; border-bottom: 1px solid #eee; line-height: 0.1em; margin: 20px 0;
    }
    .login-divider span { background: #fff; padding: 0 10px; color: #999; font-size: 0.8rem; }

    .hover-warning:hover { color: #ffc107 !important; transition: 0.3s; }
    .hover-white:hover { color: white !important; transition: 0.3s; }
    footer { border-top: 1px solid #333; }
    .custom-navbar { background: rgba(0,0,0,0.9); backdrop-filter: blur(10px); border-bottom: 1px solid rgba(255,255,255,0.1); }
    #como-funciona .card:hover { transform: translateY(-10px); }
    html { scroll-behavior: smooth; }
    
    .invoice-item {
      border-left: 3px solid #ffc107;
      background: #f8f9fa;
      padding: 10px 15px;
      border-radius: 8px;
      margin-bottom: 10px;
    }

    .payment-option {
      cursor: pointer;
      transition: 0.2s;
    }
    .payment-option:hover {
      background-color: #f8f9fa;
      border-color: #ffc107 !important;
    }
    .payment-option input:checked + div {
      border-color: #ffc107 !important;
      background-color: #fff9e6;
    }
  </style>
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-dark fixed-top custom-navbar">
  <div class="container">
    <a class="navbar-brand d-flex align-items-center" href="#">
      <span class="fw-bold text-warning">Vistor</span><span class="fw-bold text-white">IA</span>
    </a>

    <span id="navPlano" class="badge bg-warning text-dark ms-3 d-none">
      Plano: <span id="planoNome">Free</span>
    </span> 

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarContent">
      <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
        <li class="nav-item"><a class="nav-link" href="#quadro-vistoria">Nova vistoria</a></li>
        <li class="nav-item"><a class="nav-link" href="#aba-planos">Planos</a></li>
        
        <li class="nav-item dropdown" id="navUsuario">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">Conta</a>
          <ul class="dropdown-menu dropdown-menu-end">
            <li><a class="dropdown-item" href="#" id="navLoginTrigger">Entrar</a></li>
            <li><a class="dropdown-item" href="#" id="navPagamentosTrigger"><i class="bi bi-credit-card me-2"></i>Pagamentos</a></li>
            <li><a class="dropdown-item d-none" href="#historico" id="navHistorico">Histórico</a></li>
            <li><a class="dropdown-item d-none" href="#empresa" id="navEmpresa">Empresa</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item text-danger d-none" href="#" id="navLogout">Sair</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</nav>

<!-- Hero Section -->
<section id="como-funciona" class="pt-5 pb-5 bg-dark text-white" style="margin-top: 56px; background: linear-gradient(180deg, #1a1a1a 0%, #333 100%);">
  <div class="container pt-5">
    <div class="text-center mb-5">
        <h1 class="display-4 fw-bold mb-3">Vistorias Imobiliárias em <span class="text-warning">Segundos</span></h1>
        <p class="lead opacity-75">A inteligência artificial que gera laudos técnicos profissionais através de fotos.</p>
    </div>

    <div class="row g-4 text-dark">
      <div class="col-md-4">
        <div class="card h-100 text-center shadow border-0">
          <div class="card-body p-4">
            <div class="bg-warning bg-opacity-10 rounded-circle d-inline-flex p-3 mb-3">
                <i class="bi bi-camera fs-2 text-warning"></i>
            </div>
            <h5 class="fw-bold">1. Tire as Fotos</h5>
            <p class="text-muted small">Abra a ferramenta e envie as fotos do cômodo ou item que deseja vistoriar.</p>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="card h-100 text-center shadow border-0">
          <div class="card-body p-4">
            <div class="bg-warning bg-opacity-10 rounded-circle d-inline-flex p-3 mb-3">
                <i class="bi bi-magic fs-2 text-warning"></i>
            </div>
            <h5 class="fw-bold">2. IA Analisa</h5>
            <p class="text-muted small">Nossa inteligência identifica defeitos, materiais e o estado de conservação na hora.</p>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="card h-100 text-center shadow border-0">
          <div class="card-body p-4">
            <div class="bg-warning bg-opacity-10 rounded-circle d-inline-flex p-3 mb-3">
                <i class="bi bi-file-earmark-pdf fs-2 text-warning"></i>
            </div>
            <h5 class="fw-bold">3. Gere o Laudo</h5>
            <p class="text-muted small">Receba o texto pronto, revise e exporte o PDF oficial para seu cliente.</p>
          </div>
        </div>
      </div>
    </div>

    <div class="text-center mt-5">
        <a href="#quadro-vistoria" class="btn btn-warning btn-lg fw-bold px-5 py-3 shadow">
            COMEÇAR VISTORIA AGORA
        </a>
    </div>
  </div>
</section>

<!-- Ferramenta -->
<section id="quadro-vistoria" class="py-5">
  <div class="container" style="max-width: 800px;">
    <h2 class="text-center mb-4 fw-bold">Ferramenta de Análise</h2>
    <div class="card shadow border-0">
      <div class="card-body p-4">
        <div class="upload-area mb-3 border-2 border-dashed rounded p-5 text-center bg-light" id="fileBar" style="cursor: pointer; border: 2px dashed #dee2e6;">
          <i class="bi bi-cloud-arrow-up fs-1 text-primary"></i>
          <h5 class="mt-2">Clique para enviar fotos</h5>
          <input type="file" id="fotoInput" multiple accept="image/*" class="d-none">
        </div>
        <div id="previewFotos" class="preview-container mb-4 d-flex flex-wrap gap-2"></div>
        <div class="d-grid gap-2">
            <button id="btnEnviar" class="btn btn-primary btn-lg shadow-sm">
                <i class="bi bi-stars"></i> Gerar Descrição com IA
            </button>
        </div>
        <hr class="my-4">
        <div class="mb-3">
            <label for="descricaoResultado" class="form-label fw-bold">Descrição Gerada pela IA:</label>
            <textarea id="descricaoResultado" class="form-control" rows="6" placeholder="A análise técnica aparecerá aqui..."></textarea>
        </div>
        <div class="d-flex justify-content-between align-items-center">
            <small class="text-muted">Vistorias restantes: <span id="contadorVistorias" class="fw-bold text-primary">10</span></small>
            <button id="btnPdfPro" class="btn btn-outline-danger"><i class="bi bi-file-pdf"></i> Exportar PDF</button>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Planos -->
<section id="aba-planos" class="py-5 bg-light">
  <div class="container">
    <h2 class="text-center mb-5 fw-bold">Planos para todos os tamanhos</h2>
    <div class="row g-4 justify-content-center">
      <div class="col-md-4">
        <div class="card h-100 text-center shadow-sm border-0">
          <div class="card-body p-4">
            <h5 class="card-title text-muted text-uppercase small fw-bold">Básico</h5>
            <h3 class="my-3">R$ 0<span class="fs-6 text-muted fw-normal">/sempre</span></h3>
            <ul class="list-unstyled text-start mb-4">
                <li><i class="bi bi-check2 text-success me-2"></i> 10 vistorias p/ mês</li>
                <li><i class="bi bi-check2 text-success me-2"></i> Análise IA padrão</li>
            </ul>
            <button class="btn btn-outline-secondary w-100" disabled>Plano Atual</button>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="card h-100 text-center shadow border-primary" style="transform: scale(1.05);">
          <div class="card-body p-4">
            <span class="badge bg-primary mb-2">MAIS POPULAR</span>
            <h5 class="card-title text-muted text-uppercase small fw-bold">Pro</h5>
            <h3 class="my-3 text-primary">R$ 29<span class="fs-6 text-muted fw-normal">/mês</span></h3>
            <ul class="list-unstyled text-start mb-4">
                <li><i class="bi bi-check2 text-success me-2"></i> Vistorias ilimitadas</li>
                <li><i class="bi bi-check2 text-success me-2"></i> Histórico na nuvem</li>
                <li><i class="bi bi-check2 text-success me-2"></i> Suporte prioritário</li>
            </ul>
            <button class="btn btn-warning w-100 fw-bold shadow-sm btn-assinar" data-plano="Pro" data-preco="29,00">Assinar Agora</button>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="card h-100 text-center shadow-sm border-0">
          <div class="card-body p-4">
            <h5 class="card-title text-muted text-uppercase small fw-bold">Premium</h5>
            <h3 class="my-3">R$ 59<span class="fs-6 text-muted fw-normal">/mês</span></h3>
            <ul class="list-unstyled text-start mb-4">
                <li><i class="bi bi-check2 text-success me-2"></i> Tudo do Pro</li>
                <li><i class="bi bi-check2 text-success me-2"></i> Logo da sua Empresa</li>
                <li><i class="bi bi-check2 text-success me-2"></i> Relatórios Personalizados</li>
            </ul>
            <button class="btn btn-dark w-100 fw-bold btn-assinar" data-plano="Premium" data-preco="59,00">Assinar Premium</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Rodapé -->
<footer class="bg-dark text-white pt-5 pb-3">
    <div class="container text-center">
        <p class="small text-secondary">&copy; 2024 VistorIA Tecnologia LTDA. Todos os direitos reservados.</p>
    </div>
</footer>

<!-- MODAL DE LOGIN (ESTILO ANTIGO RESTAURADO) -->
<div id="modalLogin" class="login-overlay d-none">
  <div class="login-card shadow-lg">
    <button class="btn-close-modal" id="btnCloseLogin">&times;</button>
    
    <div class="text-center mb-4">
        <div class="icon-wrapper mb-3">
            <i class="bi bi-person-lock text-warning fs-2"></i>
        </div>
        <h3 class="fw-bold mb-1" id="loginTitle">Entrar no VistorIA</h3>
        <p class="text-muted small" id="loginSubtitle">Gerencie as suas vistorias de qualquer lugar.</p>
    </div>

    <!-- Login Social -->
    <div class="d-grid gap-2 mb-4">
        <button class="btn btn-outline-dark d-flex align-items-center justify-content-center py-2 border-secondary-subtle">
            <i class="bi bi-google me-2"></i> Entrar com Google
        </button>
    </div>

    <div class="login-divider">
        <span>ou use seu e-mail</span>
    </div>

    <form id="formLoginMain">
        <div class="mb-3">
            <label class="form-label small fw-bold">E-mail</label>
            <input type="email" id="loginEmailField" class="form-control form-control-lg bg-light fs-6 border-0" placeholder="exemplo@email.com" required>
        </div>
        
        <div id="passwordArea" class="mb-3">
            <div class="d-flex justify-content-between">
                <label class="form-label small fw-bold">Senha</label>
                <a href="#" class="small text-warning text-decoration-none">Esqueceu?</a>
            </div>
            <input type="password" id="loginPassword" class="form-control form-control-lg bg-light fs-6 border-0" placeholder="••••••••">
        </div>

        <button type="submit" id="btnLoginAction" class="btn btn-warning w-100 fw-bold py-3 mt-2 shadow-sm text-uppercase">
            Fazer Login
        </button>
    </form>

    <div class="text-center mt-4 pt-3 border-top">
        <p class="small text-muted mb-0">
            <span id="toggleText">Ainda não tem conta?</span>
            <a href="#" id="btnToggleLogin" class="fw-bold text-warning text-decoration-none">Criar conta grátis</a>
        </p>
    </div>
  </div>
</div>

<!-- MODAL DE PAGAMENTOS (EXTRATO) -->
<div id="modalPagamentos" class="payment-overlay d-none">
  <div class="payment-card shadow-lg">
    <button class="btn-close-modal" id="btnClosePagamentos">&times;</button>
    <div class="text-center mb-4">
        <div class="icon-wrapper mb-3"><i class="bi bi-credit-card text-warning fs-2"></i></div>
        <h3 class="fw-bold mb-1">Faturação</h3>
    </div>
    <div class="mb-3">
        <label class="small fw-bold text-muted">PLANO ATUAL</label>
        <div class="p-3 bg-light rounded border">VistorIA Profissional - R$ 29/mês</div>
    </div>
    <button class="btn btn-outline-danger w-100 btn-sm">Cancelar Assinatura</button>
  </div>
</div>

<!-- MODAL DE CHECKOUT -->
<div id="modalCheckout" class="checkout-overlay d-none">
  <div class="checkout-card shadow-lg">
    <button class="btn-close-modal" id="btnCloseCheckout">&times;</button>
    
    <div class="text-center mb-4">
        <div class="icon-wrapper mb-3">
            <i class="bi bi-bag-check text-warning fs-2"></i>
        </div>
        <h3 class="fw-bold mb-1">Finalizar Assinatura</h3>
        <p class="text-muted">Está a assinar o plano <span id="checkoutPlanoNome" class="fw-bold text-dark">Pro</span></p>
    </div>

    <div class="bg-light p-3 rounded mb-4 d-flex justify-content-between align-items-center">
        <span class="fw-bold">Total Mensal:</span>
        <span class="fs-4 fw-bold text-primary">R$ <span id="checkoutPreco">29,00</span></span>
    </div>

    <h6 class="fw-bold mb-3">Escolha como pagar:</h6>
    
    <div class="d-grid gap-2 mb-4">
        <label class="payment-option position-relative">
            <input type="radio" name="payMethod" class="d-none" checked>
            <div class="p-3 border rounded d-flex align-items-center">
                <i class="bi bi-credit-card me-3 fs-4"></i>
                <div>
                    <div class="fw-bold small">Cartão de Crédito</div>
                    <div class="text-muted small">Ativação imediata</div>
                </div>
                <i class="bi bi-check-circle-fill ms-auto text-warning"></i>
            </div>
        </label>

        <label class="payment-option position-relative">
            <input type="radio" name="payMethod" class="d-none">
            <div class="p-3 border rounded d-flex align-items-center">
                <i class="bi bi-qr-code-scan me-3 fs-4"></i>
                <div>
                    <div class="fw-bold small">PIX</div>
                    <div class="text-muted small">Processamento em segundos</div>
                </div>
            </div>
        </label>
    </div>

    <button class="btn btn-primary w-100 fw-bold py-3 shadow-sm" onclick="confirmarAssinatura()">
        CONFIRMAR E PAGAR
    </button>
    
    <p class="text-center text-muted mt-3 mb-0" style="font-size: 0.7rem;">
        <i class="bi bi-lock-fill me-1"></i> Pagamento seguro processado pela Stripe/MercadoPago.
    </p>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="js/script.js"></script>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Referências
    const modalLogin = document.getElementById('modalLogin');
    const modalPagamentos = document.getElementById('modalPagamentos');
    const modalCheckout = document.getElementById('modalCheckout');
    
    const checkoutPlano = document.getElementById('checkoutPlanoNome');
    const checkoutPreco = document.getElementById('checkoutPreco');

    // Elementos do Toggle de Login
    const loginTitle = document.getElementById('loginTitle');
    const loginSubtitle = document.getElementById('loginSubtitle');
    const btnAction = document.getElementById('btnLoginAction');
    const toggleText = document.getElementById('toggleText');
    const btnToggleLogin = document.getElementById('btnToggleLogin');
    
    let isLoginMode = true;

    // Fechar todos
    const closeAll = () => {
        modalLogin.classList.add('d-none');
        modalPagamentos.classList.add('d-none');
        modalCheckout.classList.add('d-none');
    };

    // Botões fechar
    document.getElementById('btnCloseLogin').onclick = closeAll;
    document.getElementById('btnClosePagamentos').onclick = closeAll;
    document.getElementById('btnCloseCheckout').onclick = closeAll;

    // Abrir Login
    document.getElementById('navLoginTrigger').onclick = (e) => {
        e.preventDefault();
        modalLogin.classList.remove('d-none');
    };

    // Alternar Login/Cadastro
    if(btnToggleLogin) {
      btnToggleLogin.addEventListener('click', (e) => {
        e.preventDefault();
        isLoginMode = !isLoginMode;
        
        if (isLoginMode) {
          loginTitle.innerText = 'Entrar no VistorIA';
          loginSubtitle.innerText = 'Gerencie as suas vistorias de qualquer lugar.';
          btnAction.innerText = 'Fazer Login';
          toggleText.innerText = 'Ainda não tem conta?';
          btnToggleLogin.innerText = 'Criar conta grátis';
        } else {
          loginTitle.innerText = 'Criar sua Conta';
          loginSubtitle.innerText = 'Junte-se a milhares de vistoriadores.';
          btnAction.innerText = 'Começar Agora';
          toggleText.innerText = 'Já tem uma conta?';
          btnToggleLogin.innerText = 'Fazer Login';
        }
      });
    }

    // Abrir Faturação
    document.getElementById('navPagamentosTrigger').onclick = (e) => {
        e.preventDefault();
        modalPagamentos.classList.remove('d-none');
    };

    // Abrir Checkout
    const botoesAssinar = document.querySelectorAll('.btn-assinar');
    botoesAssinar.forEach(btn => {
        btn.addEventListener('click', function() {
            const plano = this.getAttribute('data-plano');
            const preco = this.getAttribute('data-preco');
            
            checkoutPlano.innerText = plano;
            checkoutPreco.innerText = preco;
            
            modalCheckout.classList.remove('d-none');
        });
    });

    window.onclick = (e) => {
        if (e.target.classList.contains('login-overlay') || 
            e.target.classList.contains('payment-overlay') || 
            e.target.classList.contains('checkout-overlay')) closeAll();
    };
  });

  function confirmarAssinatura() {
      const btn = event.target;
      btn.disabled = true;
      btn.innerHTML = '<span class="spinner-border spinner-border-sm me-2"></span> Processando...';
      
      setTimeout(() => {
          btn.innerHTML = '<i class="bi bi-check-lg"></i> Sucesso!';
          btn.classList.replace('btn-primary', 'btn-success');
          
          setTimeout(() => {
              alert('Assinatura confirmada! Bem-vindo ao plano ' + document.getElementById('checkoutPlanoNome').innerText);
              location.reload();
          }, 1000);
      }, 2000);
  }
</script>

</body>
</html>
